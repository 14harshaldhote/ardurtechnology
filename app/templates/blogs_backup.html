{% extends 'base.html' %}

{% block content %}
<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-primary-600 via-secondary-600 to-accent-600 text-white py-20 overflow-hidden">
    <div class="absolute inset-0 bg-black opacity-10"></div>
    <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,<svg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><g fill=\"%23ffffff\" fill-opacity=\"0.05\"><path d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/></g></g></svg>'); opacity: 0.1;"></div>
    
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="text-center" data-aos="fade-up">
            <div class="inline-flex items-center px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm font-medium mb-4">
                <i data-lucide="book-open" class="w-4 h-4 mr-2"></i>
                <span>Insights & Updates</span>
            </div>
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-display font-bold mb-4 leading-tight">
                Our Blog
            </h1>
            <p class="text-xl md:text-2xl text-white text-opacity-90 mb-8 max-w-3xl mx-auto">
                Expert insights on mortgage services, aircraft asset management, and industry best practices
            </p>
        </div>
    </div>
</section>

<!-- Filter Section -->
<section class="bg-white border-b sticky top-0 z-40 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <div class="flex flex-wrap items-center justify-between gap-4">
            <div class="flex items-center gap-2" x-data="{ activeFilter: 'all' }">
                <button 
                    @click="activeFilter = 'all'" 
                    :class="activeFilter === 'all' ? 'bg-primary-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
                >
                    All Posts
                </button>
                <button 
                    @click="activeFilter = 'mortgage'" 
                    :class="activeFilter === 'mortgage' ? 'bg-secondary-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
                >
                    <i data-lucide="home" class="w-4 h-4 mr-1"></i> Mortgage
                </button>
                <button 
                    @click="activeFilter = 'aircraft'" 
                    :class="activeFilter === 'aircraft' ? 'bg-purple-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
                >
                    <i data-lucide="plane" class="w-4 h-4 mr-1"></i> Aircraft
                </button>
                <button 
                    @click="activeFilter = 'title'" 
                    :class="activeFilter === 'title' ? 'bg-accent-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
                >
                    <i data-lucide="award" class="w-4 h-4 mr-1"></i> Title Services
                </button>
                <button 
                    @click="activeFilter = 'finance'" 
                    :class="activeFilter === 'finance' ? 'bg-warning-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
                >
                    <i data-lucide="trending-up" class="w-4 h-4 mr-1"></i> Finance
                </button>
            </div>
            <div class="flex items-center gap-2 text-sm text-gray-600">
                <i data-lucide="newspaper" class="w-4 h-4"></i>
                <span class="font-medium">{{ blogs|length }} Articles</span>
            </div>
        </div>
    </div>
</section>

<!-- Blog Grid -->
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for blog_slug, blog in blogs.items() %}
            <article class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300" data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}">
                <!-- Featured Image -->
                <div class="relative h-48 bg-gradient-to-br from-{{ ['primary', 'secondary', 'accent', 'purple', 'warning'][loop.index0 % 5] }}-400 to-{{ ['primary', 'secondary', 'accent', 'purple', 'warning'][loop.index0 % 5] }}-600 overflow-hidden">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <i data-lucide="{{ ['file-text', 'plane', 'award', 'trending-up', 'book'][loop.index0 % 5] }}" class="w-24 h-24 text-white opacity-20"></i>
                    </div>
                    <!-- Category Badge -->
                    <div class="absolute top-4 left-4">
                        <span class="inline-flex items-center px-3 py-1 bg-white text-{{ ['primary', 'secondary', 'accent', 'purple', 'warning'][loop.index0 % 5] }}-600 text-xs font-semibold rounded-full">
                            {{ blog.category }}
                        </span>
                    </div>
                    <!-- Reading Time Badge -->
                    <div class="absolute top-4 right-4">
                        <span class="inline-flex items-center px-2 py-1 bg-black bg-opacity-50 text-white text-xs rounded-full">
                            <i data-lucide="clock" class="w-3 h-3 mr-1"></i>
                            {{ blog.reading_time }} min
                        </span>
                    </div>
                </div>

                <!-- Content -->
                <div class="p-6">
                    <!-- Meta Info -->
                    <div class="flex items-center gap-4 text-xs text-gray-500 mb-3">
                        <span class="flex items-center">
                            <i data-lucide="user" class="w-3 h-3 mr-1"></i>
                            {{ blog.author }}
                        </span>
                        <span class="flex items-center">
                            <i data-lucide="calendar" class="w-3 h-3 mr-1"></i>
                            {{ blog.date | format_date }}
                        </span>
                    </div>

                    <!-- Title -->
                    <h2 class="text-xl font-display font-bold text-gray-900 mb-3 line-clamp-2 hover:text-primary-600 transition-colors">
                        <a href="{{ url_for('blog_detail', blog_slug=blog_slug) }}">
                            {{ blog.title }}
                        </a>
                    </h2>

                    <!-- Excerpt -->
                    <p class="text-gray-600 text-sm mb-4 line-clamp-3">
                        {{ blog.excerpt }}
                    </p>

                    <!-- Tags -->
                    <div class="flex flex-wrap gap-2 mb-4">
                        {% for tag in blog.tags[:3] %}
                        <span class="inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded">
                            #{{ tag }}
                        </span>
                        {% endfor %}
                    </div>

                    <!-- Read More Button -->
                    <a href="{{ url_for('blog_detail', blog_slug=blog_slug) }}" class="inline-flex items-center text-primary-600 font-semibold text-sm hover:text-primary-700 transition-colors group">
                        Read Full Article
                        <i data-lucide="arrow-right" class="w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Newsletter CTA -->
<section class="py-16 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white relative overflow-hidden">
    <div class="absolute inset-0 opacity-10" style="background-image: url('data:image/svg+xml,<svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z\" fill=\"%23ffffff\" fill-opacity=\"1\" fill-rule=\"evenodd\"/></svg>');"></div>
    
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center" data-aos="fade-up">
        <div class="mb-6">
            <div class="w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-envelope text-white text-2xl"></i>
            </div>
            <h2 class="text-3xl md:text-4xl font-display font-bold mb-4">
                Stay Updated
            </h2>
            <p class="text-xl text-gray-300">
                Subscribe to our newsletter for the latest insights and industry updates
            </p>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto">
            <input 
                type="email" 
                placeholder="Enter your email" 
                class="flex-1 px-6 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500"
            />
            <button class="px-8 py-3 bg-gradient-to-r from-primary-500 to-secondary-500 text-white rounded-lg font-semibold hover:from-primary-600 hover:to-secondary-600 transform hover:scale-105 transition-all duration-200 shadow-lg">
                Subscribe
            </button>
        </div>
    </div>
</section>

{% endblock %}
